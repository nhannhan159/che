<md-dialog flex="50">
  <che-panel che-title="Clone Workspace">
    <md-dialog-content>
      <ng-form flex layout="column" name="updateWorkspaceForm">
        <che-input che-form="updateWorkspaceForm"
                   che-name="name"
                   che-label-name="Name"
                   che-place-holder="Name of the workspace"
                   ng-model="cloneWorkspaceDialogController.workspaceName"
                   required
                   unique-workspace-name="cloneWorkspaceDialogController.workspaceName"
                   ng-minlength="3"
                   ng-maxlength="20"
                   ng-pattern="/^[A-Za-z0-9_\-\.]+$/">
          <div ng-message="required">A name is required.</div>
          <div ng-message="pattern">Workspace name may contain digits, latin letters, _ , . , - and should start only
            with digits, latin
            letters or underscores
          </div>
          <div ng-message="minlength">The name has to be more then 3 characters long.</div>
          <div ng-message="maxlength">The name has to be less than 20 characters long.</div>
          <div ng-message="uniqueWorkspaceName">This workspace name is already used.</div>
        </che-input>
      </ng-form>
      <div layout="row" layout-align="end top">
        <che-button-default che-button-title="clone"
                            ng-disabled="updateWorkspaceForm.$invalid || cloneWorkspaceDialogController.cloningInProgress"
                            ng-click="cloneWorkspaceDialogController.cloneWorkspace()"></che-button-default>

      </div>
      <div layout="row" layout-align="start center" flex ng-if="cloneWorkspaceDialogController.cloningInProgress">
        <div>
          <md-icon md-svg-src="assets/images/loader.svg" class="clone-workspace-progress-icon"
                   aria-label="loader"></md-icon>
        </div>
        <div ng-bind-html="cloneWorkspaceDialogController.cloningSteps"></div>
      </div>
    </md-dialog-content>
  </che-panel>

  <md-dialog-actions>
    <md-button ng-hide="cloneWorkspaceDialogController.cloningInProgress"
               ng-click="cloneWorkspaceDialogController.hide()" tabindex="0" type="button">HIDE
    </md-button>
  </md-dialog-actions>
</md-dialog>
